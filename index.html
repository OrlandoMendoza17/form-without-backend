<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <style>
    :root {
      --maxWidth: 700px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    p {
      margin: 0;
    }

    label,
    .Carrera>span,
    .Gustos>span {
      font-weight: 500;
    }

    .Carrera label>span,
    .Gustos label>span {
      font-weight: 400;
    }

    .Gustos label {
      display: block;
    }

    .main-section {
      display: grid;
      grid-template-columns: minmax(100px, var(--maxWidth));
      justify-content: center;
    }

    #Formulario {
      border-radius: 5px;
      background-color: var(--bs-gray-200);
      min-width: 200px;
      max-width: var(--maxWidth);
      display: grid;
      grid-template-columns: 1fr;
      gap: 15px;
    }

    .botones {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }

    .button {
      border: none;
      border-radius: 5px;
      padding: 5px;
      background: linear-gradient(to left, #95ca3e 0%, #95ca3e 50%, #85c638 100%);
      box-shadow: 0 3px 1px 0 #58902d;
      color: #fff;
      font-weight: 500;
    }

    .button:active {
      box-shadow: none;
      transform: translateY(3px);
    }

    .age-input {
      display: flex;
      justify-content: start;
      align-items: center;
      gap: 5px;
    }

    .age-input>input {
      width: 70px !important;
    }

    .Modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: grid;
      grid-template-columns: minmax(100px, 500px);
      justify-content: center;
      align-items: flex-start;
    }

    .modal-container {
      border-radius: 5px;
      background-color: var(--bs-gray-200);
      max-width: var(--maxWidth);
      display: flex;
      flex-flow: column;
    }
  </style>
</head>

<body>
  <main>
    <section class="main-section px-2 py-5">
      <form id="Formulario" class="p-3" action="https://formspree.io/f/mbjqvpgb" method="post">

        <label for="nombre">
          <span>Nombre</span>
          <input class="form-control" placeholder="Lionel Andrés" name="nombre" type="text" autocomplete="given-name"
            required>
        </label>

        <label for="apellido">
          <span>Apellido</span>
          <input class="form-control" placeholder="Ronaldo dos Santos" name="apellido" id="apellido" type="text"
            autocomplete="family-name" required>
        </label>

        <label for="correo">
          <span>Correo</span>
          <input class="form-control" placeholder="@unitec.com" name="correo" id="correo" type="email" autocomplete
            required>
        </label>

        <label for="edad">
          <span>Edad</span>
          <div class="age-input">
            <input class="form-control" placeholder="27" name="edad" id="edad" type="number" autocomplete required>
            <span style="font-weight: 400;">años</span>
          </div>
        </label>

        <div class="Carrera">
          <span class="d-block mb-2">Carrera:</span>
          <label for="ing">
            <input type="radio" name="carrera" value="ingeniería" id="ing" required>
            <span>Ingeniería</span>
          </label>
          <label for="lic">
            <input type="radio" name="carrera" value="licenciatura" id="lic" required>
            <span>Licenciatura</span>
          </label>
        </div>

        <div class="Gustos">
          <span class="d-block mb-2">Gustos:</span>
          <label for="tec">
            <input type="checkbox" name="gustos" value="Tecnología" id="tec">
            <span>Tecnología</span>
          </label>
          <label for="science">
            <input type="checkbox" name="gustos" value="Ciencias" id="science">
            <span>Ciencias</span>
          </label>
          <label for="lit">
            <input type="checkbox" name="gustos" value="Literatura" id="lit">
            <span>Literatura</span>
          </label>
          <label for="vgames">
            <input type="checkbox" name="gustos" value="Videojuegos" id="vgames">
            <span>Videojuegos</span>
          </label>
        </div>

        <div class="botones">
          <button class="button" type="submit">Enviar</button>
          <button class="button" type="reset" id="resetBtn">Resetear</button>
        </div>

      </form>
    </section>

    <div id="alertModal" class="Modal d-none p-3">
      <div class="modal-container p-3">
        <h3>¡Gracias!</h3>
        <p>El formulario ha sido enviado con éxito.</p>
        <button id="hideBtn" class="button mt-3">Volver</button>
      </div>
    </div>
  </main>

  <script>
    const $form = document.getElementById("Formulario");
    const $resetBtn = document.getElementById("resetBtn");

    const $alertModal = document.getElementById("alertModal");
    const $hideBtn = document.getElementById("hideBtn");

    const $modalTitle = $alertModal.querySelector("h3")
    const $modalInfo = $alertModal.querySelector("p")

    $form.addEventListener("submit", async (event) => {
      event.preventDefault();
      const form = new FormData($form)

      const response = await fetch('https://formspree.io/f/mbjqvpgb', {
        method: $form.method,
        body: form,
        headers: {
          "Accept": "application/json"
        }
      })

      $alertModal.classList.toggle("d-none")

      if (response.ok) {

        $modalTitle.innerText = "¡Gracias!"
        $modalInfo.innerText = "El formulario ha sido enviado con éxito."

      } else {

        $modalTitle.innerText = "¡Lo sentimos!"
        $modalInfo.innerText = "Ha habido un problema con el envío del formulario."

      }
    })

    $hideBtn.addEventListener("click", () => {
      $alertModal.classList.toggle("d-none")
      $resetBtn.click()
    })

  </script>
</body>

</html>